
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.0/css/mdb.min.css" rel="stylesheet"></head>


</head>
<body>
<div class="container">
    <div class="page-header">
        <h1>AirAthon - Team Delta</h1>
    </div>
    

    
    <div class="card">
        <h3 class="card-header primary-color white-text">Autenticazione esperienza</h3>
        <div class="card-body">
        
         <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="code_user">Codice utente</label>
                        <input type="text" id="code_user" class="form-control" value=""/>
                    </div>
                    <div class="form-group">
                        <label for="description">Descrizione</label>
                        <input type="text" id="description" class="form-control" value=""/>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="card">
        <h3 class="card-header primary-color white-text">Visione completa del video</h3>
        <div class="card-body">
        
         <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="start">Ora inizio</label>
                        <input type="text" id="start" class="form-control" value=""/>
                    </div>
                    <div class="form-group">
                        <label for="end">Ora fine</label>
                        <input type="text" id="end" class="form-control" value=""/>
                    </div>
                    <div class="form-group">
                        <label for="delta">Tempo effettivo di visione</label>
                        <input type="text" id="delta" class="form-control" value=""/>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="card">
        <h3 class="card-header primary-color white-text">Risposta questionario</h3>
        <div class="card-body">
        
         <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label for="reply">Risposta 1</label>
                        <input type="text" id="reply" class="form-control" value=""/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

	<!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.0/js/mdb.min.js"></script>

    <script type="text/javascript" src="https://momentjs.com/downloads/moment-with-locales.min.js"></script>

    <script>
    
    
    	$.get( "http://40.121.41.140/storage/get_access?commitment="+findGetParameter("commitment"), function( data ) {
  					console.log( data );
  					$("#code_user").val(data.code_user);
  					$("#description").val(data.description);
  				});
  				
  		
    	$.get( "http://40.121.41.140/reports/get_report_time?commitment="+findGetParameter("commitment"), function( data ) {
  					console.log( data );
  					$("#start").val(moment( parseInt(data.start*1000) ).format('MM-DD-YYYY HH:mm:ss'));
  					$("#end").val(moment( parseInt(data.end*1000) ).format('MM-DD-YYYY HH:mm:ss'));
  					$("#delta").val( parseInt(data.end) - parseInt(data.start)  );
  				});
  				
  				
  		
    	$.get( "http://40.121.41.140/reports/get_report_reply?commitment="+findGetParameter("commitment"), function( data ) {
  					console.log( data );
  					$("#reply").val(data.reply);
  				});
  				
function findGetParameter(parameterName) {
    var result = null,
        tmp = [];
    var items = location.search.substr(1).split("&");
    for (var index = 0; index < items.length; index++) {
        tmp = items[index].split("=");
        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
    }
    return result;
}
    	
    	
    </script>
    
    
    </body>
</html>